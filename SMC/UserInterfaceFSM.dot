digraph UserInterface {

    node
        [shape=Mrecord width=1.5];

    subgraph cluster_UIMap {

        label="UIMap";

        //
        // States (Nodes)
        //

        "UIMap::Reset"
            [label="{Reset|Tick/\lDefault/\l}"];

        "UIMap::UITest"
            [label="{UITest|Entry/\l&nbsp;&nbsp;&nbsp;uiLedPower;\l&nbsp;&nbsp;&nbsp;uiLedStatus;\l&nbsp;&nbsp;&nbsp;uiDisplay;\l&nbsp;&nbsp;&nbsp;m_updateTimer.setTimeout;\lExit/\l&nbsp;&nbsp;&nbsp;uiLedPower;\l&nbsp;&nbsp;&nbsp;uiLedStatus;\l&nbsp;&nbsp;&nbsp;uiDisplay;\l|Ready/\lTick/\lDefault/\l}"];

        "UIMap::AddressDisplay"
            [label="{AddressDisplay|Entry/\l&nbsp;&nbsp;&nbsp;uiDisplay;\l&nbsp;&nbsp;&nbsp;m_updateTimer.setPeriod;\l&nbsp;&nbsp;&nbsp;m_displaySleepTimer.setTimeout;\lExit/\l&nbsp;&nbsp;&nbsp;m_updateTimer.Stop;\l&nbsp;&nbsp;&nbsp;m_displaySleepTimer.Stop;\l|updateTimerElapsed/\l&nbsp;&nbsp;&nbsp;uiDisplay;\lReady/\lTick/\lDefault/\l}"];

        "UIMap::DisplayOff"
            [label="{DisplayOff|Entry/\l&nbsp;&nbsp;&nbsp;uiDisplay;\l|Ready/\lTick/\lDefault/\l}"];

        "UIMap::MenuMode"
            [label="{MenuMode|Entry/\l&nbsp;&nbsp;&nbsp;uiDisplay;\l|Ready/\lTick/\lDefault/\l}"];

        "UIMap::MenuSpeed"
            [label="{MenuSpeed|Entry/\l&nbsp;&nbsp;&nbsp;uiDisplay;\l|Ready/\lTick/\lDefault/\l}"];

        "UIMap::MenuDisplay"
            [label="{MenuDisplay|Entry/\l&nbsp;&nbsp;&nbsp;uiDisplay;\l|Ready/\lTick/\lDefault/\l}"];

        "UIMap::MenuExit"
            [label="{MenuExit|Entry/\l&nbsp;&nbsp;&nbsp;uiDisplay;\l|Ready/\lTick/\lDefault/\l}"];

        "UIMap::MenuModeDmx"
            [label="{MenuModeDmx|Entry/\l&nbsp;&nbsp;&nbsp;uiDisplay;\l|Ready/\lTick/\lDefault/\l}"];

        "UIMap::MenuModeRainBow"
            [label="{MenuModeRainBow|Entry/\l&nbsp;&nbsp;&nbsp;uiDisplay;\l|Ready/\lTick/\lDefault/\l}"];

        "UIMap::MenuModeTest"
            [label="{MenuModeTest|Entry/\l&nbsp;&nbsp;&nbsp;uiDisplay;\l|Ready/\lTick/\lDefault/\l}"];

        "UIMap::MenuSpeedShow"
            [label="{MenuSpeedShow|Entry/\l&nbsp;&nbsp;&nbsp;uiDisplay;\l|Ready/\lTick/\lDefault/\l}"];

        "UIMap::MenuSpeedIncrease"
            [label="{MenuSpeedIncrease|Entry/\l&nbsp;&nbsp;&nbsp;incSpeed;\l}"];

        "UIMap::MenuDisplayShow"
            [label="{MenuDisplayShow|Entry/\l&nbsp;&nbsp;&nbsp;uiDisplay;\l|Ready/\lTick/\lDefault/\l}"];

        "UIMap::MenuDisplayIncrease"
            [label="{MenuDisplayIncrease|Entry/\l&nbsp;&nbsp;&nbsp;incDisplayBrightness;\l|Ready/\lDefault/\l}"];

        "%start"
            [label="" shape=circle style=filled fillcolor=black width=0.25];

    }

    //
    // Transitions (Edges)
    //

    "UIMap::Reset" -> "UIMap::UITest"
        [label="Ready/\l"];

    "UIMap::UITest" -> "UIMap::AddressDisplay"
        [label="updateTimerElapsed/\l"];

    "UIMap::AddressDisplay" -> "UIMap::DisplayOff"
        [label="displaySleepTimerElapsed/\l"];

    "UIMap::AddressDisplay" -> "UIMap::MenuMode"
        [label="BtnModePressed/\l"];

    "UIMap::DisplayOff" -> "UIMap::AddressDisplay"
        [label="BtnOkPressed/\l"];

    "UIMap::DisplayOff" -> "UIMap::AddressDisplay"
        [label="BtnModePressed/\l"];

    "UIMap::MenuMode" -> "UIMap::MenuModeDmx"
        [label="BtnOkPressed/\l"];

    "UIMap::MenuMode" -> "UIMap::MenuSpeed"
        [label="BtnModePressed/\l"];

    "UIMap::MenuSpeed" -> "UIMap::MenuSpeedShow"
        [label="BtnOkPressed/\l"];

    "UIMap::MenuSpeed" -> "UIMap::MenuDisplay"
        [label="BtnModePressed/\l"];

    "UIMap::MenuDisplay" -> "UIMap::MenuDisplayShow"
        [label="BtnOkPressed/\l"];

    "UIMap::MenuDisplay" -> "UIMap::MenuExit"
        [label="BtnModePressed/\l"];

    "UIMap::MenuExit" -> "UIMap::AddressDisplay"
        [label="BtnOkPressed/\l"];

    "UIMap::MenuExit" -> "UIMap::MenuMode"
        [label="BtnModePressed/\l"];

    "UIMap::MenuModeDmx" -> "UIMap::MenuModeRainBow"
        [label="BtnModePressed/\l"];

    "UIMap::MenuModeDmx" -> "UIMap::AddressDisplay"
        [label="BtnOkPressed/\lsetMode;\l"];

    "UIMap::MenuModeRainBow" -> "UIMap::MenuModeTest"
        [label="BtnModePressed/\l"];

    "UIMap::MenuModeRainBow" -> "UIMap::AddressDisplay"
        [label="BtnOkPressed/\lsetMode;\l"];

    "UIMap::MenuModeTest" -> "UIMap::MenuModeDmx"
        [label="BtnModePressed/\l"];

    "UIMap::MenuModeTest" -> "UIMap::AddressDisplay"
        [label="BtnOkPressed/\lsetMode;\l"];

    "UIMap::MenuSpeedShow" -> "UIMap::MenuSpeedIncrease"
        [label="BtnModePressed/\l"];

    "UIMap::MenuSpeedShow" -> "UIMap::AddressDisplay"
        [label="BtnOkPressed/\l"];

    "UIMap::MenuSpeedIncrease" -> "UIMap::MenuSpeedShow"
        [label="Default/\l"];

    "UIMap::MenuDisplayShow" -> "UIMap::MenuDisplayIncrease"
        [label="BtnModePressed/\l"];

    "UIMap::MenuDisplayShow" -> "UIMap::AddressDisplay"
        [label="BtnOkPressed/\l"];

    "UIMap::MenuDisplayIncrease" -> "UIMap::MenuDisplayShow"
        [label="Tick/\l"];

    "%start" -> "UIMap::Reset"

}
